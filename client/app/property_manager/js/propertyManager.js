var propertymanager;propertymanager=angular.module("propertymanagerApp",["ngRoute","angularUtils.directives.dirPagination","ngDialog","templates","xeditable"]),propertymanager.factory("authInterceptor",["$window","$location",function(t,e){return{request:function(r){return r.headers=r.headers||{},t.sessionStorage.token?r.headers.token=t.sessionStorage.token:e.path("/unathorised"),r},response:function(t){return 401===t.status&&e.path("/unathorised"),t||$q.when(t)}}}]),propertymanager.config(["$routeProvider","$locationProvider","$httpProvider",function(t,e,r){r.interceptors.push("authInterceptor"),t.when("/",{templateUrl:"property_manager/views/dashboard.html",controller:"dashboardCtrl"}).when("/settings",{templateUrl:"Settings.html",controller:"settingsCtrl"}).when("/properties",{templateUrl:"property_manager/views/properties.html",controller:"PropertyCtrl"}).when("/edit-property/:property",{templateUrl:"Editproperty.html",controller:"EditPropertyCtrl"}).when("/units/:propertyname/:propertyid",{templateUrl:"property_manager/views/units.html",controller:"unitCtrl"}).when("/units-settings/:unitname/:unitid/:amount",{templateUrl:"unit-settings.html",controller:"unitSettingsCtrl"}).when("/tenants",{templateUrl:"property_manager/views/tenants.html",controller:"tenantsCtrl"}).when("/checkout/:tenantid",{templateUrl:"checkout.html",controller:"checkoutCtrl"}).when("/checkin/:tenantid",{templateUrl:"checkin.html",controller:"checkinCtrl"}).when("/singletrxn",{templateUrl:"singletrxn.html",controller:"singletrxnCtrl"}).when("/batchtrxn",{templateUrl:"batchtrxn.html",controller:"batchtrxnCtrl"}).when("/unathorised",{templateUrl:"401.html"}).when("/not-found",{templateUrl:"404.html"}).otherwise({redirectTo:"/not-found"})}]),propertymanager.run(["$rootScope","$location","$window","$route","editableOptions",function(t,e,r,n,o){o.theme="bs3",t.$on("$locationChangeStart",function(t,r,n){e.path()})}]);
propertymanager.factory("propertyManagerSrv",["$http",function(t){var n="/web/propertymanager",e={propertyExist:function(e){var r=t.get(n+"/property/check/"+e);return r},getMyProperties:function(){var e=t.get(n+"/property");return e},addProperty:function(e){var r=t.post(n+"/property",e);return r},getPropertyDetails:function(e){var r=t.get(n+"/property/"+e);return r},updateProperty:function(e){var r=t.put(n+"/property",e);return r},deleteProperty:function(e){var r=t["delete"](n+"/property/"+e);return r},ListAllUnits:function(){var e=t.get(n+"/Unit/All");return e},ListPropertyUnits:function(e){var r=t.get(n+"/Unit/"+e);return r},UnitExist:function(e){var r=t.get(n+"/Unit/check/"+e);return r},addUnit:function(e){var r=t.post(n+"/Unit",e);return r},getUnitDetails:function(e){var r=t.get(n+"/Unit"+e);return r},updateUnit:function(e){var r=t.put(n+"/Unit",e);return r},UpdateUnitSettings:function(e){var r=t.put(n+"/UpdateUnitSettings",e);return r},deleteUnit:function(e){var r=t["delete"](n+"/Unit"+e);return r},vacantUnits:function(){var e=t.get(n+"/vacantUnits");return e},getTenantDetails:function(e){return t.get(n+"/Tenant/id/"+e)},checkTenantContact:function(e){return t.get(n+"/Tenant/contact/"+e)},createTenant:function(e){return console.log(e),t.post(n+"/Tenant",e)},tenantLookup:function(e,r){return t.get(n+"/Tenant/lookup/?searchid="+e+"&lookup="+r)},tenantUpdate:function(e){return t.put(n+"/Tenant",e)},tenantList:function(){return t.get(n+"/Tenant")},DeleteTenant:function(e){return t["delete"](n+"/Tenant/"+e)},checkin:function(e){var r=t.post(n+"/checkin",e);return r},checkout:function(e){var r=t.post(n+"/checkout",e);return r}};return e}]);
propertymanager.controller("batchtrxnCtrl",["$scope","ngDialog","$window",function(n,o,r){}]);
propertymanager.controller("checkinCtrl",["$scope","ngDialog","propertyManagerSrv","$location","$route",function(n,t,e,i,a){n.tenantid=a.current.params.tenantid,n.assignedunits=[],n.dueAmount=0,e.vacantUnits().success(function(t){n.vacantunits=t.vacantunits}).error(function(n){var e="<p>Error Listing Your Vacant Units (kindly Inform the Administrator) </p>";t.open({template:e,plain:!0})}),n.assignunit=function(t){n.assignedunits.push(t),n.dueAmount=n.dueAmount+t.amount},n.removeassigment=function(t,e){n.assignedunits.splice(e,1),n.dueAmount=n.dueAmount-t.amount},n.checkin=function(){var i={};i.units=n.assignedunits,i.amountdue=n.dueAmount,i.tenantid=n.tenantid,e.checkin(i).success(function(n){var e="<p>Tenant Checked In </p>";t.open({template:e,plain:!0})}).error(function(n){var e="<p>Error Checking in The Client (kindly Inform the Administrator) </p>";t.open({template:e,plain:!0})})}}]);
propertymanager.controller("checkoutCtrl",["$scope","ngDialog","propertyManagerSrv","$location","$route",function(t,n,e,a,i){t.tenantid=i.current.params.tenantid,e.getTenantDetails(t.tenantid).success(function(e){if(e.exist)t.tenantsdetails=e.tenantdetails,t.units=e.tenantdetails.units;else{var a="<p> Tenant Does Not Exist </p>";n.open({template:a,plain:!0})}}).error(function(t){var e="<p>Error Fetching Tenant Details (kindly Inform the Administrator) </p>";n.open({template:e,plain:!0})}),t.checkout=function(a,i){var r={};t.numberofunits=t.units.length,1!=t.numberofunits?r.setvacant=!1:r.setvacant=!0,r.unit=a,r.numberofunit=t.numberofunits,r.tenantid=t.tenantid,e.checkout(r).success(function(t){var e="<p>Tenant Checked Out </p>";n.open({template:e,plain:!0})}).error(function(t){var e="<p>Error Checking-Out The Client (kindly Inform the Administrator) </p>";n.open({template:e,plain:!0})})}}]);
propertymanager.controller("dashboardCtrl",["$scope","ngDialog","$window",function(o,r,n){}]);
propertymanager.controller("EditPropertyCtrl",["$scope","ngDialog","propertyManagerSrv","$location","$route",function(r,t,p,e,o){r.property=angular.fromJson(atob(o.current.params.property)),r.update=function(r){p.updateProperty(r).success(function(r){var p="<p>Property Successfully Updated </p>";t.open({template:p,plain:!0})}).error(function(r){var p="<p>Error Updating Property (kindly Inform the Administrator) </p>";t.open({template:p,plain:!0})})},r.cancel=function(){e.path("/properties")}}]);
propertymanager.controller("MainCtrl",["$scope","ngDialog","$window",function(o,e,r){o.role=r.sessionStorage.role,o.user=r.sessionStorage.names}]);
propertymanager.controller("PropertyCtrl",["$scope","ngDialog","propertyManagerSrv","$location",function(r,e,t,o){t.getMyProperties().success(function(e){r.properties=e.properties,console.log()}).error(function(r){var t="<p>Error Listing Your Properties (kindly Inform the Administrator) </p>";e.open({template:t,plain:!0})}),r.editproperty=function(r){var e=btoa(angular.toJson(r));o.path("/edit-property/"+e)},r.viewProperty=function(t){r.viewproperty=t,e.openConfirm({template:"Viewproperty.html",className:"ngdialog-theme-default",scope:r}).then(function(r){},function(r){})},r.addProperty=function(){e.openConfirm({template:"Addproperty.html",className:"ngdialog-theme-default",scope:r}).then(function(o){r.prop=o,t.addProperty(r.prop).success(function(t){r.properties.push(r.prop);var o="<p>Property  Successfully Created </p>";e.open({template:o,plain:!0})}).error(function(r){var t="<p>Error Creating Property (kindly Inform the Administrator) </p>";e.open({template:t,plain:!0})})},function(r){})},r.saveproperty=function(){}}]);
propertymanager.controller("settingsCtrl",["$scope","ngDialog","propertyManagerSrv","$location","$route",function(r,o,t,e,n){}]);
propertymanager.controller("singletrxnCtrl",["$scope","ngDialog","$window","propertyManagerSrv","$timeout",function(e,n,t,r,o){r.tenantList().success(function(n){e.tenants=n.tenants}).error(function(e){}),e.name="",e.onItemSelected=function(){console.log("selected="+e.name)},e.handleSelection=function(n){e.model=n,e.current=0,e.selected=!0},e.current=0,e.selected=!0,e.isCurrent=function(n){return e.current==n},e.setCurrent=function(n){e.current=n}}]);
propertymanager.controller("tenantsCtrl",["$scope","ngDialog","$window","propertyManagerSrv",function(n,t,e,a){n.tenants=[],a.tenantList().success(function(t){n.tenants=t.tenants}).error(function(n){var e="<p>Error Listing Your Units (kindly Inform the Administrator) </p>";t.open({template:e,plain:!0})}),n.addTenant=function(){t.openConfirm({template:"AddTenant.html",className:"ngdialog-theme-default",scope:n}).then(function(e){n.ten=e,n.ten.amountdue=0,a.createTenant(n.ten).success(function(e){n.tenants.push(n.ten);var a="<p>Tenant  Successfully Created </p>";t.open({template:a,plain:!0})}).error(function(n){var e="<p>Error Saving Tenant  Details (kindly Inform the Administrator) </p>";t.open({template:e,plain:!0})})},function(n){})}}]);
propertymanager.controller("unitCtrl",["$scope","ngDialog","propertyManagerSrv","$location","$route",function(t,n,r,e,p){t.propertyid=p.current.params.propertyid,t.property=p.current.params.propertyname,t.units=[],r.ListPropertyUnits(t.propertyid).success(function(n){t.units=n.units}).error(function(t){var r="<p>Error Listing Your Units (kindly Inform the Administrator) </p>";n.open({template:r,plain:!0})}),t.addUnit=function(){n.openConfirm({template:"AddUnit.html",className:"ngdialog-theme-default",scope:t}).then(function(e){t.unt=e,t.unt.propertyid=t.propertyid,t.unt.propertyname=t.property,t.unt.occupationStatus="vacant",r.addUnit(t.unt).success(function(r){t.units.push(t.unt);var e="<p>Unit  Successfully Created </p>";n.open({template:e,plain:!0})}).error(function(t){var r="<p>Error Creating Unit (kindly Inform the Administrator) </p>";n.open({template:r,plain:!0})})},function(t){})}}]);
propertymanager.controller("unitSettingsCtrl",["$scope","ngDialog","propertyManagerSrv","$location","$route",function(t,n,e,i,a){t.deposit={},t.settings={},t.unitid=a.current.params.unitid,t.unitname=a.current.params.unitname,t.rentamount=Number(a.current.params.amount),t.calcRentDeposit=function(n){"depositamount"===n?t.deposit.amount=t.rentamount:"depositrentpercentage"===n?t.deposit.amount=t.percentage*t.rentamount/100:"depositfixedamount"===n&&(t.deposit.amount=t.fixedamount)},t.calcCheckinAmount=function(n){"rentonly"===n?t.settings.checkinamount=t.rentamount:"rentanddeposit"===n?t.settings.checkinamount=t.deposit.amount+t.rentamount:"checkinfixedamount"===n&&(t.settings.checkinamount=t.tenantcheckinfixedamount)},t.update=function(){t.update={},t.update.settings=t.settings,t.update._id=t.unitid,e.UpdateUnitSettings(t.update).success(function(t){var e="<p>Unit  Settings Successfully Created </p>";n.open({template:e,plain:!0})}).error(function(t){var e="<p>Error Creating Unit  Settings (kindly Inform the Administrator) </p>";n.open({template:e,plain:!0})})}}]);
propertymanager.directive("errSrc",function(){return{link:function(r,e,c){e.bind("error",function(){c.src!=c.errSrc&&c.$set("src",c.errSrc)}),c.$observe("ngSrc",function(r){!r&&c.errSrc&&c.$set("src",c.errSrc)})}}});
propertymanager.directive("ngFileModel",[function(){return{scope:{ngFileModel:"="},link:function(e,t,i){t.bind("change",function(t){var i=new FileReader;i.onload=function(i){e.$apply(function(){e.ngFileModel={lastModified:t.target.files[0].lastModified,lastModifiedDate:t.target.files[0].lastModifiedDate,name:t.target.files[0].name,size:t.target.files[0].size,type:t.target.files[0].type,data:i.target.result}})},i.readAsDataURL(t.target.files[0])})}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb3BlcnR5X21hbmFnZXJfYXBwLmpzIiwiaHR0cFNlcnZpY2UuanMiLCJiYXRjaHRyeG5DdHJsLmpzIiwiQ2hlY2tpbkNvbnRyb2xsZXIuanMiLCJjaGVja291dEN0cmwuanMiLCJkYXNoYm9hcmRDdHJsLmpzIiwiRWRpdFByb3BlcnR5Q29udHJvbGxlci5qcyIsIm1haW5Db250cm9sbGVyLmpzIiwicHJvcGVydHlDb250cm9sbGVyLmpzIiwic2V0dGluZ3NDdHJsLmpzIiwic2luZ2xldHJ4bkN0cmwuanMiLCJUZW5hbnRzQ29udHJvbGxlci5qcyIsIlVuaXRDdHJsLmpzIiwiVW5pdHNTZXR0aW5nc0N0cmwuanMiLCJpbWFnZUVycm9yLmpzIiwiaW5wdXRmaWxlLmpzIl0sIm5hbWVzIjpbInByb3BlcnR5bWFuYWdlciIsImFuZ3VsYXIiLCJtb2R1bGUiLCJmYWN0b3J5IiwiJHdpbmRvdyIsIiRsb2NhdGlvbiIsInJlcXVlc3QiLCJjb25maWciLCJoZWFkZXJzIiwic2Vzc2lvblN0b3JhZ2UiLCJ0b2tlbiIsInBhdGgiLCJyZXNwb25zZSIsInN0YXR1cyIsIiRxIiwid2hlbiIsIiRyb3V0ZVByb3ZpZGVyIiwiJGxvY2F0aW9uUHJvdmlkZXIiLCIkaHR0cFByb3ZpZGVyIiwiaW50ZXJjZXB0b3JzIiwicHVzaCIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJydW4iLCIkcm9vdFNjb3BlIiwiJHJvdXRlIiwiZWRpdGFibGVPcHRpb25zIiwidGhlbWUiLCIkb24iLCJldmVudCIsIm5leHQiLCJjdXJyZW50IiwiJGh0dHAiLCJ1cmwiLCJkYXRhIiwicHJvcGVydHlFeGlzdCIsInBsb3RuYW1lIiwicHJvbWlzZSIsImdldCIsImdldE15UHJvcGVydGllcyIsImFkZFByb3BlcnR5IiwiZGV0YWlscyIsInBvc3QiLCJnZXRQcm9wZXJ0eURldGFpbHMiLCJ1cGRhdGVQcm9wZXJ0eSIsInB1dCIsImRlbGV0ZVByb3BlcnR5IiwicHJvcGVydHkiLCJMaXN0QWxsVW5pdHMiLCJMaXN0UHJvcGVydHlVbml0cyIsInByb3BlcnR5aWQiLCJVbml0RXhpc3QiLCJ1bml0bmFtZSIsImFkZFVuaXQiLCJnZXRVbml0RGV0YWlscyIsInVwZGF0ZVVuaXQiLCJVcGRhdGVVbml0U2V0dGluZ3MiLCJkZWxldGVVbml0IiwidmFjYW50VW5pdHMiLCJnZXRUZW5hbnREZXRhaWxzIiwidGVuYW50aWQiLCJjaGVja1RlbmFudENvbnRhY3QiLCJjb250YWN0IiwiY3JlYXRlVGVuYW50IiwidGVuYW50IiwiY29uc29sZSIsImxvZyIsInRlbmFudExvb2t1cCIsInNlYXJjaGlkIiwibG9va3VwIiwidGVuYW50VXBkYXRlIiwidGVuYW50TGlzdCIsIkRlbGV0ZVRlbmFudCIsImNoZWNraW4iLCJjaGVja291dCIsIiRzY29wZSIsIm5nRGlhbG9nIiwicHJvcGVydHlNYW5hZ2VyU3J2IiwicGFyYW1zIiwiYXNzaWduZWR1bml0cyIsImR1ZUFtb3VudCIsInN1Y2Nlc3MiLCJ2YWNhbnR1bml0cyIsImVycm9yIiwidGVtcCIsIm9wZW4iLCJ0ZW1wbGF0ZSIsInBsYWluIiwiYXNzaWdudW5pdCIsInByb3AiLCJhbW91bnQiLCJyZW1vdmVhc3NpZ21lbnQiLCJzZWxlY3Rpb24iLCJpbmRleCIsInNwbGljZSIsInVuaXRzIiwiYW1vdW50ZHVlIiwiZXhpc3QiLCJ0ZW5hbnRzZGV0YWlscyIsInRlbmFudGRldGFpbHMiLCJ1bml0IiwiaW5keCIsInVuaXRkZXQiLCJudW1iZXJvZnVuaXRzIiwibGVuZ3RoIiwic2V0dmFjYW50IiwibnVtYmVyb2Z1bml0IiwiZnJvbUpzb24iLCJhdG9iIiwidXBkYXRlIiwiY2FuY2VsIiwicm9sZSIsInVzZXIiLCJuYW1lcyIsInByb3BlcnRpZXMiLCJlZGl0cHJvcGVydHkiLCJkZXQiLCJidG9hIiwidG9Kc29uIiwidmlld1Byb3BlcnR5Iiwidmlld3Byb3BlcnR5Iiwib3BlbkNvbmZpcm0iLCJjbGFzc05hbWUiLCJzY29wZSIsInRoZW4iLCJ2YWx1ZSIsInJlYXNvbiIsInNhdmVwcm9wZXJ0eSIsIiR0aW1lb3V0IiwidGVuYW50cyIsIm5hbWUiLCJvbkl0ZW1TZWxlY3RlZCIsImhhbmRsZVNlbGVjdGlvbiIsInNlbGVjdGVkSXRlbSIsIm1vZGVsIiwic2VsZWN0ZWQiLCJpc0N1cnJlbnQiLCJzZXRDdXJyZW50IiwiYWRkVGVuYW50IiwidGVuIiwicHJvcGVydHluYW1lIiwidW50Iiwib2NjdXBhdGlvblN0YXR1cyIsImRlcG9zaXQiLCJzZXR0aW5ncyIsInVuaXRpZCIsInJlbnRhbW91bnQiLCJOdW1iZXIiLCJjYWxjUmVudERlcG9zaXQiLCJwZXJjZW50YWdlIiwiZml4ZWRhbW91bnQiLCJjYWxjQ2hlY2tpbkFtb3VudCIsImNoZWNraW5hbW91bnQiLCJ0ZW5hbnRjaGVja2luZml4ZWRhbW91bnQiLCJfaWQiLCJkaXJlY3RpdmUiLCJsaW5rIiwiZWxlbWVudCIsImF0dHJzIiwiYmluZCIsInNyYyIsImVyclNyYyIsIiRzZXQiLCIkb2JzZXJ2ZSIsIm5nRmlsZU1vZGVsIiwiYXR0cmlidXRlcyIsImNoYW5nZUV2ZW50IiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImxvYWRFdmVudCIsIiRhcHBseSIsImxhc3RNb2RpZmllZCIsInRhcmdldCIsImZpbGVzIiwibGFzdE1vZGlmaWVkRGF0ZSIsInNpemUiLCJ0eXBlIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCJdLCJtYXBwaW5ncyI6IkFBQ0EsR0FBSUEsZ0JBRUpBLGlCQUFpQkMsUUFBUUMsT0FBTyxzQkFBdUIsVUFBVSx3Q0FBd0MsV0FBVyxZQUFZLGNBSTVIRixnQkFBZ0JHLFFBQVEsbUJBQW1CLFVBQVUsWUFBWSxTQUFXQyxFQUFRQyxHQUNsRixPQUNBQyxRQUFTLFNBQVVDLEdBVWpCLE1BUkFBLEdBQU9DLFFBQVVELEVBQU9DLFlBQ3BCSixFQUFRSyxlQUFlQyxNQUMzQkgsRUFBT0MsUUFBUUUsTUFBUU4sRUFBUUssZUFBZUMsTUFJbENMLEVBQVVNLEtB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QixFQUFPa0MsUUFFOUI1QixRQUFRLFNBQVUvQyxHQUVULEdBQUlrRCxHQUFNLDZDQUNWUixHQUFTUyxNQUNQQyxTQUFVRixFQUNWRyxPQUFPLE1BSVpKLE1BQU0sU0FBVUEsR0FDYixHQUFJQyxHQUFNLHlFQUNWUixHQUFTUyxNQUNQQyxTQUFVRixFQUNWRyxPQUFPO0FDNUN6Q3pGLGdCQUFnQjZKLFVBQVUsU0FBVSxXQUM5QixPQUNFQyxLQUFNLFNBQVNqQyxFQUFPa0MsRUFBU0MsR0FDN0JELEVBQVFFLEtBQUssUUFBUyxXQUNoQkQsRUFBTUUsS0FBT0YsRUFBTUcsUUFDckJILEVBQU1JLEtBQUssTUFBT0osRUFBTUcsVUFJNUJILEVBQU1LLFNBQVMsUUFBUyxTQUFTdEMsSUFDMUJBLEdBQVNpQyxFQUFNRyxRQUNsQkgsRUFBTUksS0FBSyxNQUFPSixFQUFNRztBQ1hsQ25LLGdCQUFnQjZKLFVBQVUsZUFBZ0IsV0FDdEMsT0FDSWhDLE9BQ0l5QyxZQUFhLEtBRWpCUixLQUFNLFNBQVVqQyxFQUFPa0MsRUFBU1EsR0FDNUJSLEVBQVFFLEtBQUssU0FBVSxTQUFVTyxHQUM3QixHQUFJQyxHQUFTLEdBQUlDLFdBQ2pCRCxHQUFPRSxPQUFTLFNBQVVDLEdBQ3RCL0MsRUFBTWdELE9BQU8sV0FDVGhELEVBQU15QyxhQUNGUSxhQUFjTixFQUFZTyxPQUFPQyxNQUFNLEdBQUdGLGFBQzFDRyxpQkFBa0JULEVBQVlPLE9BQU9DLE1BQU0sR0FBR0MsaUJBQzlDN0MsS0FBTW9DLEVBQVlPLE9BQU9DLE1BQU0sR0FBRzVDLEtBQ2xDOEMsS0FBTVYsRUFBWU8sT0FBT0MsTUFBTSxHQUFHRSxLQUNsQ0MsS0FBTVgsRUFBWU8sT0FBT0MsTUFBTSxHQUFHRyxLQUNsQy9JLEtBQU13SSxFQUFVRyxPQUFPSyxXQUluQ1gsRUFBT1ksY0FBY2IsRUFBWU8sT0FBT0MsTUFBTSIsImZpbGUiOiJwcm9wZXJ0eU1hbmFnZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxudmFyIHByb3BlcnR5bWFuYWdlcjtcclxuXHJcbnByb3BlcnR5bWFuYWdlcj0gYW5ndWxhci5tb2R1bGUoJ3Byb3BlcnR5bWFuYWdlckFwcCcsIFsnbmdSb3V0ZScsJ2FuZ3VsYXJVdGlscy5kaXJlY3RpdmVzLmRpclBhZ2luYXRpb24nLCduZ0RpYWxvZycsJ3RlbXBsYXRlcycsJ3hlZGl0YWJsZSddICk7IFxyXG5cclxuXHJcblxyXG4gICAgcHJvcGVydHltYW5hZ2VyLmZhY3RvcnkoJ2F1dGhJbnRlcmNlcHRvcicsWyckd2luZG93JywnJGxvY2F0aW9uJyxmdW5jdGlvbiAoICR3aW5kb3csJGxvY2F0aW9uKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgIHJlcXVlc3Q6IGZ1bmN0aW9uIChjb25maWcpIHtcclxuICAgICAgICBcclxuICAgICAgICBjb25maWcuaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzIHx8IHt9O1xyXG4gICAgICAgIGlmICgkd2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuKSB7XHJcbiAgICAgICAgY29uZmlnLmhlYWRlcnMudG9rZW49ICAkd2luZG93LnNlc3Npb25TdG9yYWdlLnRva2VuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAvLyBubyB0b2tlbiBpbiBTdG9yZVxyXG4gICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvdW5hdGhvcmlzZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbmZpZztcclxuICAgICAgfSxcclxuICAgICAgcmVzcG9uc2U6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xyXG4gICAgICAgIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgdXNlciBpcyBub3QgYXV0aGVudGljYXRlZFxyXG4gICAgICAgICRsb2NhdGlvbi5wYXRoKCcvdW5hdGhvcmlzZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlIHx8ICRxLndoZW4ocmVzcG9uc2UpO1xyXG4gICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG5cclxucHJvcGVydHltYW5hZ2VyLmNvbmZpZyhbJyRyb3V0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywnJGh0dHBQcm92aWRlcicsIGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlciwkaHR0cFByb3ZpZGVyKXtcclxuICBcclxuJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnYXV0aEludGVyY2VwdG9yJyk7XHJcblxyXG4gICRyb3V0ZVByb3ZpZGVyXHJcbiAgICAgIC53aGVuKCcvJywge1xyXG4gICAgICAgICB0ZW1wbGF0ZVVybCA6ICdwcm9wZXJ0eV9tYW5hZ2VyL3ZpZXdzL2Rhc2hib2FyZC5odG1sJyxcclxuICAgICAgICAgIGNvbnRyb2xsZXIgIDogJ2Rhc2hib2FyZEN0cmwnXHJcbiAgICAgICAgfSkgXHJcbiAgICAgICAgLndoZW4oJy9zZXR0aW5ncycsIHtcclxuICAgICAgICAgdGVtcGxhdGVVcmwgOiAnU2V0dGluZ3MuaHRtbCcsXHJcbiAgICAgICAgICBjb250cm9sbGVyICA6ICdzZXR0aW5nc0N0cmwnXHJcbiAgICAgICAgfSkgXHJcbiAgICAgIC53aGVuKCcvcHJvcGVydGllcycsIHtcclxuICAgICAgICAgdGVtcGxhdGVVcmwgOiAncHJvcGVydHlfbWFuYWdlci92aWV3cy9wcm9wZXJ0aWVzLmh0bWwnLFxyXG4gICAgICAgICAgY29udHJvbGxlciAgOiAnUHJvcGVydHlDdHJsJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgIC53aGVuKCcvZWRpdC1wcm9wZXJ0eS86cHJvcGVydHknLCB7XHJcbiAgICAgICAgIHRlbXBsYXRlVXJsIDogJ0VkaXRwcm9wZXJ0eS5odG1sJyxcclxuICAgICAgICAgIGNvbnRyb2xsZXIgIDogJ0VkaXRQcm9wZXJ0eUN0cmwnXHJcbiAgICAgICAgfSlcclxuICAgICAgIC53aGVuKCcvdW5pdHMvOnByb3BlcnR5bmFtZS86cHJvcGVydHlpZCcsIHtcclxuICAgICAgICAgdGVtcGxhdGVVcmwgOiAncHJvcGVydHlfbWFuYWdlci92aWV3cy91bml0cy5odG1sJyxcclxuICAgICAgICAgIGNvbnRyb2xsZXIgIDogJ3VuaXRDdHJsJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAud2hlbignL3VuaXRzLXNldHRpbmdzLzp1bml0bmFtZS86dW5pdGlkLzphbW91bnQnLCB7XHJcbiAgICAgICAgIHRlbXBsYXRlVXJsIDogJ3VuaXQtc2V0dGluZ3MuaHRtbCcsXHJcbiAgICAgICAgICBjb250cm9sbGVyICA6ICd1bml0U2V0dGluZ3NDdHJsJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAud2hlbignL3RlbmFudHMnLCB7XHJcbiAgICAgICAgIHRlbXBsYXRlVXJsIDogJ3Byb3BlcnR5X21hbmFnZXIvdmlld3MvdGVuYW50cy5odG1sJyxcclxuICAgICAgICAgIGNvbnRyb2xsZXIgIDogJ3RlbmFudHNDdHJsJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAud2hlbignL2NoZWNrb3V0Lzp0ZW5hbnRpZCcsIHtcclxuICAgICAgICAgdGVtcGxhdGVVcmwgOiAnY2hlY2tvdXQuaHRtbCcsXHJcbiAgICAgICAgICBjb250cm9sbGVyICA6ICdjaGVja291dEN0cmwnXHJcbiAgICAgICAgfSlcclxuICAgICAgIC53aGVuKCcvY2hlY2tpbi86dGVuYW50aWQnLCB7XHJcbiAgICAgICAgIHRlbXBsYXRlVXJsIDogJ2NoZWNraW4uaHRtbCcsXHJcbiAgICAgICAgICBjb250cm9sbGVyICA6ICdjaGVja2luQ3RybCdcclxuICAgICAgICB9KVxyXG4gICAgICAgLndoZW4oJy9zaW5nbGV0cnhuJywge1xyXG4gICAgICAgICB0ZW1wbGF0ZVVybCA6ICdzaW5nbGV0cnhuLmh0bWwnLFxyXG4gICAgICAgICAgY29udHJvbGxlciAgOiAnc2luZ2xldHJ4bkN0cmwnXHJcbiAgICAgICAgfSlcclxuICAgICAgIC53aGVuKCcvYmF0Y2h0cnhuJywge1xyXG4gICAgICAgICB0ZW1wbGF0ZVVybCA6ICdiYXRjaHRyeG4uaHRtbCcsXHJcbiAgICAgICAgICBjb250cm9sbGVyICA6ICdiYXRjaHRyeG5DdHJsJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLndoZW4oJy91bmF0aG9yaXNlZCcsIHtcclxuICAgICAgICAgdGVtcGxhdGVVcmwgOiAnNDAxLmh0bWwnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAud2hlbignL25vdC1mb3VuZCcsIHtcclxuICAgICAgICAgdGVtcGxhdGVVcmwgOiAnNDA0Lmh0bWwnXHJcbiAgICAgICAgfSlcclxuICAgICAgIFxyXG4gXHJcbiAgICAub3RoZXJ3aXNlKHsgcmVkaXJlY3RUbyA6ICcvbm90LWZvdW5kJyB9KTtcclxuXHJcbiAgLy8kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcbiAgICBcclxuXHJcbn1dKTtcclxuXHJcblxyXG5wcm9wZXJ0eW1hbmFnZXIucnVuKFsnJHJvb3RTY29wZScsICckbG9jYXRpb24nLCAnJHdpbmRvdycsJyRyb3V0ZScsJ2VkaXRhYmxlT3B0aW9ucycsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRsb2NhdGlvbiwkd2luZG93LCRyb3V0ZSxlZGl0YWJsZU9wdGlvbnMpe1xyXG4gICBlZGl0YWJsZU9wdGlvbnMudGhlbWUgPSAnYnMzJzsgXHJcblxyXG4gICRyb290U2NvcGUuJG9uKFwiJGxvY2F0aW9uQ2hhbmdlU3RhcnRcIiwgZnVuY3Rpb24oZXZlbnQsIG5leHQsIGN1cnJlbnQpe1xyXG5cclxuXHJcbiAvLyAgdmFyIHBhdGhzPSBKU09OLnBhcnNlKCR3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuYWxsb3dlZHBhdGgpO1xyXG4gIC8vIGNvbnNvbGUubG9nKFwibmV4dCBcIiArIG5leHQpO1xyXG5cclxuICAvLyBjb25zb2xlLmxvZyhcInBhdGhzIFwiICsgcGF0aHMpO1xyXG4gICB2YXIgbmV4dFBhdGggPSAkbG9jYXRpb24ucGF0aCgpO1xyXG4gLy8gIGNvbnNvbGUubG9nKFwibmV4dCBwYXRoICBcIiArIG5leHRQYXRoKTtcclxuICAgICAgICAgLyogIGZ1bmN0aW9uIGZpbmRCeUlkKHNvdXJjZSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VbaV0gPT09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICBcclxuICAgICAgaWYgKGZpbmRCeUlkKHBhdGhzLG5leHRQYXRoICkpe1xyXG4gICAgICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy91bmF0aG9yaXNlZCcpO1xyXG4gICAgICAgIC8vICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB9XHJcbiAgIFxyXG4gICAgKi9cclxuXHJcblxyXG5cclxuICAgXHJcbiAgfSk7XHJcbiAgXHJcblxyXG59XSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiIsInByb3BlcnR5bWFuYWdlci5mYWN0b3J5KCdwcm9wZXJ0eU1hbmFnZXJTcnYnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcclxuXHJcbiB2YXIgdXJsPScvd2ViL3Byb3BlcnR5bWFuYWdlcic7XHJcblx0dmFyIGRhdGEgPSB7XHJcblxyXG5cdFx0LyogIFByb3BlcnR5ICovXHJcbiAgICAgICAgIHByb3BlcnR5RXhpc3Q6IGZ1bmN0aW9uKHBsb3RuYW1lKSB7XHJcblx0XHRcdHZhciBwcm9taXNlID0gJGh0dHAuZ2V0KHVybCsgJy9wcm9wZXJ0eS9jaGVjay8nK3Bsb3RuYW1lKVxyXG5cdFx0XHRyZXR1cm4gcHJvbWlzZTtcclxuXHRcdCB9LFxyXG5cdFx0IGdldE15UHJvcGVydGllczogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBwcm9taXNlID0gJGh0dHAuZ2V0KHVybCsgJy9wcm9wZXJ0eScpXHJcblx0XHRcdHJldHVybiBwcm9taXNlO1xyXG5cdFx0IH0sXHJcblxyXG4gICAgICAgICBhZGRQcm9wZXJ0eTogZnVuY3Rpb24oZGV0YWlscykge1xyXG5cdFx0XHR2YXIgcHJvbWlzZSA9ICAkaHR0cC5wb3N0KHVybCArICcvcHJvcGVydHknLGRldGFpbHMpOyBcclxuXHRcdFx0cmV0dXJuIHByb21pc2U7XHJcblx0XHQgfSxcclxuICAgICAgICAgZ2V0UHJvcGVydHlEZXRhaWxzOiBmdW5jdGlvbihkZXRhaWxzKSB7XHJcblx0XHRcdHZhciBwcm9taXNlID0gICRodHRwLmdldCh1cmwgKyAnL3Byb3BlcnR5LycrZGV0YWlscyk7IFxyXG5cdFx0XHRyZXR1cm4gcHJvbWlzZTtcclxuXHRcdCB9LFxyXG4gICAgICAgICB1cGRhdGVQcm9wZXJ0eTogZnVuY3Rpb24oZGV0YWlscykge1xyXG5cdFx0XHR2YXIgcHJvbWlzZSA9ICAkaHR0cC5wdXQodXJsICsgJy9wcm9wZXJ0eScsZGV0YWlscyk7IFxyXG5cdFx0XHRyZXR1cm4gcHJvbWlzZTtcclxuXHRcdCB9LFxyXG4gICAgICAgICBkZWxldGVQcm9wZXJ0eTogZnVuY3Rpb24ocHJvcGVydHkpIHtcclxuXHRcdFx0dmFyIHByb21pc2UgPSAgJGh0dHAuZGVsZXRlKHVybCArICcvcHJvcGVydHkvJytwcm9wZXJ0eSk7IFxyXG5cdFx0XHRyZXR1cm4gcHJvbWlzZTtcclxuXHRcdCB9LFxyXG5cclxuXHRcdCAvKiAgVW5pdHMgICovXHJcblxyXG5cdFx0TGlzdEFsbFVuaXRzOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHByb21pc2UgPSAkaHR0cC5nZXQodXJsKyAnL1VuaXQvQWxsJylcclxuXHRcdFx0cmV0dXJuIHByb21pc2U7XHJcblx0XHQgfSxcclxuICAgICAgICBMaXN0UHJvcGVydHlVbml0czogZnVuY3Rpb24ocHJvcGVydHlpZCkge1xyXG5cdFx0XHR2YXIgcHJvbWlzZSA9ICRodHRwLmdldCh1cmwrICcvVW5pdC8nK3Byb3BlcnR5aWQpXHJcblx0XHRcdHJldHVybiBwcm9taXNlO1xyXG5cdFx0IH0sXHJcblxyXG5cclxuXHRcdCBVbml0RXhpc3Q6IGZ1bmN0aW9uKHVuaXRuYW1lKSB7XHJcblx0XHRcdHZhciBwcm9taXNlID0gJGh0dHAuZ2V0KHVybCsgJy9Vbml0L2NoZWNrLycrdW5pdG5hbWUpXHJcblx0XHRcdHJldHVybiBwcm9taXNlO1xyXG5cdFx0IH0sXHJcblx0XHJcbiAgICAgICAgIGFkZFVuaXQ6IGZ1bmN0aW9uKGRldGFpbHMpIHtcclxuXHRcdFx0dmFyIHByb21pc2UgPSAgJGh0dHAucG9zdCh1cmwgKyAnL1VuaXQnLGRldGFpbHMpOyBcclxuXHRcdFx0cmV0dXJuIHByb21pc2U7XHJcblx0XHQgfSxcclxuICAgICAgICAgZ2V0VW5pdERldGFpbHM6IGZ1bmN0aW9uKGRldGFpbHMpIHtcclxuXHRcdFx0dmFyIHByb21pc2UgPSAgJGh0dHAuZ2V0KHVybCArICcvVW5pdCcrZGV0YWlscyk7IFxyXG5cdFx0XHRyZXR1cm4gcHJvbWlzZTtcclxuXHRcdCB9LFxyXG4gICAgICAgICB1cGRhdGVVbml0OiBmdW5jdGlvbihkZXRhaWxzKSB7XHJcblx0XHRcdHZhciBwcm9taXNlID0gICRodHRwLnB1dCh1cmwgKyAnL1VuaXQnLGRldGFpbHMpOyBcclxuXHRcdFx0cmV0dXJuIHByb21pc2U7XHJcblx0XHQgfSxcclxuICAgICAgICAgVXBkYXRlVW5pdFNldHRpbmdzOiBmdW5jdGlvbihkZXRhaWxzKSB7XHJcblx0XHRcdHZhciBwcm9taXNlID0gICRodHRwLnB1dCh1cmwgKyAnL1VwZGF0ZVVuaXRTZXR0aW5ncycsZGV0YWlscyk7IFxyXG5cdFx0XHRyZXR1cm4gcHJvbWlzZTtcclxuXHRcdCB9LFxyXG5cdFx0IFxyXG4gICAgICAgICBkZWxldGVVbml0OiBmdW5jdGlvbih1bml0bmFtZSkge1xyXG5cdFx0XHR2YXIgcHJvbWlzZSA9ICAkaHR0cC5kZWxldGUodXJsICsgJy9Vbml0Jyt1bml0bmFtZSk7IFxyXG5cdFx0XHRyZXR1cm4gcHJvbWlzZTtcclxuXHRcdCB9LFxyXG5cdFx0ICB2YWNhbnRVbml0czogZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBwcm9taXNlID0gICRodHRwLmdldCh1cmwgKyAnL3ZhY2FudFVuaXRzJyk7IFxyXG5cdFx0XHRyZXR1cm4gcHJvbWlzZTtcclxuXHRcdCB9LFxyXG5cclxuXHQgICAgICAgIGdldFRlbmFudERldGFpbHM6ZnVuY3Rpb24gKHRlbmFudGlkKSB7XHJcblx0XHQgICAgIHJldHVybiAkaHR0cC5nZXQodXJsICsgJy9UZW5hbnQvaWQvJysgdGVuYW50aWQpO1xyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgICAgY2hlY2tUZW5hbnRDb250YWN0OmZ1bmN0aW9uIChjb250YWN0KSB7XHJcblx0XHQgICAgIHJldHVybiAkaHR0cC5nZXQodXJsICsgJy9UZW5hbnQvY29udGFjdC8nKyBjb250YWN0KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3JlYXRlVGVuYW50OmZ1bmN0aW9uICh0ZW5hbnQpIHtcclxuICAgICAgICAgICAgXHRjb25zb2xlLmxvZyh0ZW5hbnQpXHJcblx0XHQgICAgIHJldHVybiAkaHR0cC5wb3N0KHVybCArICcvVGVuYW50Jyx0ZW5hbnQpOyBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgIHRlbmFudExvb2t1cDpmdW5jdGlvbiAoc2VhcmNoaWQsbG9va3VwKSB7XHJcblx0XHQgICAgIHJldHVybiAkaHR0cC5nZXQodXJsICsgJy9UZW5hbnQvbG9va3VwLz9zZWFyY2hpZD0nK3NlYXJjaGlkKycmbG9va3VwPScrbG9va3VwKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGVuYW50VXBkYXRlOmZ1bmN0aW9uIChkZXRhaWxzKSB7XHJcblx0XHQgICAgIHJldHVybiAkaHR0cC5wdXQodXJsICsgJy9UZW5hbnQnLGRldGFpbHMpOyBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICB0ZW5hbnRMaXN0OmZ1bmN0aW9uICgpIHtcclxuXHRcdCAgICAgcmV0dXJuICRodHRwLmdldCh1cmwgKyAnL1RlbmFudCcpOyBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgRGVsZXRlVGVuYW50OmZ1bmN0aW9uICh0ZW5hbnRpZCkge1xyXG5cdFx0ICAgICByZXR1cm4gJGh0dHAuZGVsZXRlKHVybCArICcvVGVuYW50LycrdGVuYW50aWQpOyBcclxuICAgICAgICAgICAgfSxcclxuXHJcblxyXG4gICAgICAgICAgICBjaGVja2luOiBmdW5jdGlvbihkZXRhaWxzKSB7XHJcblx0XHRcdHZhciBwcm9taXNlID0gICRodHRwLnBvc3QodXJsICsgJy9jaGVja2luJyxkZXRhaWxzKTsgXHJcblx0XHRcdHJldHVybiBwcm9taXNlO1xyXG5cdFx0ICAgIH0sXHJcblx0XHQgICAgIGNoZWNrb3V0OiBmdW5jdGlvbihkZXRhaWxzKSB7XHJcblx0XHRcdHZhciBwcm9taXNlID0gICRodHRwLnBvc3QodXJsICsgJy9jaGVja291dCcsZGV0YWlscyk7IFxyXG5cdFx0XHRyZXR1cm4gcHJvbWlzZTtcclxuXHRcdCAgICB9LFxyXG5cclxuICAgICAgICAgICAgICB9XHJcblx0cmV0dXJuIGRhdGE7XHJcbn1dKTtcclxuIiwiXHJcbnByb3BlcnR5bWFuYWdlci5jb250cm9sbGVyKCdiYXRjaHRyeG5DdHJsJywgWyckc2NvcGUnLCduZ0RpYWxvZycsJyR3aW5kb3cnLCBmdW5jdGlvbigkc2NvcGUsbmdEaWFsb2csJHdpbmRvdyl7XHJcblxyXG4gICAgXHJcblx0fV0pO1xyXG4iLCJcclxuXHJcbnByb3BlcnR5bWFuYWdlci5jb250cm9sbGVyKCdjaGVja2luQ3RybCcsIFsnJHNjb3BlJywnbmdEaWFsb2cnLCdwcm9wZXJ0eU1hbmFnZXJTcnYnLCckbG9jYXRpb24nLCckcm91dGUnLCBmdW5jdGlvbigkc2NvcGUsbmdEaWFsb2cscHJvcGVydHlNYW5hZ2VyU3J2LCRsb2NhdGlvbiwkcm91dGUpe1xyXG5cclxuICAgJHNjb3BlLnRlbmFudGlkPSRyb3V0ZS5jdXJyZW50LnBhcmFtcy50ZW5hbnRpZDtcclxuICAgICAgICAgICAgICAgICBcclxuICAkc2NvcGUuYXNzaWduZWR1bml0cz1bXTtcclxuICRzY29wZS5kdWVBbW91bnQ9MDtcclxuICAgXHJcblxyXG5cclxuICAgIHByb3BlcnR5TWFuYWdlclNydi52YWNhbnRVbml0cygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52YWNhbnR1bml0cz1kYXRhLnZhY2FudHVuaXRzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSc8cD5FcnJvciBMaXN0aW5nIFlvdXIgVmFjYW50IFVuaXRzIChraW5kbHkgSW5mb3JtIHRoZSBBZG1pbmlzdHJhdG9yKSA8L3A+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZ0RpYWxvZy5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhaW46IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgXHJcbiAgICAgICAgICAgICAgICAgICB9KTsgXHJcblxyXG4gICAgICAgICRzY29wZS5hc3NpZ251bml0PWZ1bmN0aW9uKHByb3Ape1xyXG4gICAgICAgICAgJHNjb3BlLmFzc2lnbmVkdW5pdHMucHVzaChwcm9wKTtcclxuICAgICAgICAgICRzY29wZS5kdWVBbW91bnQ9JHNjb3BlLmR1ZUFtb3VudCtwcm9wLmFtb3VudDtcclxuXHJcbiAgICAgICAgfSA7ICAgXHJcblxyXG4gICAgICAgICRzY29wZS5yZW1vdmVhc3NpZ21lbnQ9ZnVuY3Rpb24oc2VsZWN0aW9uLGluZGV4KXtcclxuICAgICAgICAgICAkc2NvcGUuYXNzaWduZWR1bml0cy5zcGxpY2UoaW5kZXgsMSlcclxuICAgICAgICAgICAkc2NvcGUuZHVlQW1vdW50PSRzY29wZS5kdWVBbW91bnQtc2VsZWN0aW9uLmFtb3VudDtcclxuXHJcbiAgICAgICAgfSA7ICBcclxuXHJcbiAgICAgICAgJHNjb3BlLmNoZWNraW49ZnVuY3Rpb24oKXtcclxuXHJcblxyXG4gICAgICAgICAgICAgdmFyIGRldGFpbHM9e307XHJcbiAgICAgICAgICAgICAgICAgZGV0YWlscy51bml0cz0gJHNjb3BlLmFzc2lnbmVkdW5pdHM7XHJcbiAgICAgICAgICAgICAgICAgZGV0YWlscy5hbW91bnRkdWU9JHNjb3BlLmR1ZUFtb3VudDtcclxuICAgICAgICAgICAgICAgICBkZXRhaWxzLnRlbmFudGlkPSRzY29wZS50ZW5hbnRpZDtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgIHByb3BlcnR5TWFuYWdlclNydi5jaGVja2luKGRldGFpbHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9JzxwPlRlbmFudCBDaGVja2VkIEluIDwvcD4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nRGlhbG9nLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0nPHA+RXJyb3IgQ2hlY2tpbmcgaW4gVGhlIENsaWVudCAoa2luZGx5IEluZm9ybSB0aGUgQWRtaW5pc3RyYXRvcikgPC9wPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgICAgICAgICAgICAgfSk7IFxyXG5cclxuXHJcbiAgICAgICAgfSA7ICAgICAgICAgICAgXHJcblxyXG5cdH1dKTsiLCJwcm9wZXJ0eW1hbmFnZXIuY29udHJvbGxlcignY2hlY2tvdXRDdHJsJywgWyckc2NvcGUnLCduZ0RpYWxvZycsJ3Byb3BlcnR5TWFuYWdlclNydicsJyRsb2NhdGlvbicsJyRyb3V0ZScsIGZ1bmN0aW9uKCRzY29wZSxuZ0RpYWxvZyxwcm9wZXJ0eU1hbmFnZXJTcnYsJGxvY2F0aW9uLCRyb3V0ZSl7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRlbmFudGlkPSRyb3V0ZS5jdXJyZW50LnBhcmFtcy50ZW5hbnRpZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlNYW5hZ2VyU3J2LmdldFRlbmFudERldGFpbHMoJHNjb3BlLnRlbmFudGlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgXHQgICAgaWYgKGRhdGEuZXhpc3Qpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGVuYW50c2RldGFpbHM9ZGF0YS50ZW5hbnRkZXRhaWxzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudW5pdHM9ZGF0YS50ZW5hbnRkZXRhaWxzLnVuaXRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgIFx0ICAgIGVsc2UgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICBcdCAgICBcdCB2YXIgdGVtcCA9JzxwPiBUZW5hbnQgRG9lcyBOb3QgRXhpc3QgPC9wPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgIFx0ICAgIH1cdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSc8cD5FcnJvciBGZXRjaGluZyBUZW5hbnQgRGV0YWlscyAoa2luZGx5IEluZm9ybSB0aGUgQWRtaW5pc3RyYXRvcikgPC9wPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja291dD1mdW5jdGlvbih1bml0LGluZHgpe1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVuaXRkZXQgPXt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5udW1iZXJvZnVuaXRzPSRzY29wZS51bml0cy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubnVtYmVyb2Z1bml0cyAhPSAxKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0ZGV0LnNldHZhY2FudD1mYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0ZGV0LnNldHZhY2FudD10cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRkZXQudW5pdD11bml0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdGRldC5udW1iZXJvZnVuaXQ9JHNjb3BlLm51bWJlcm9mdW5pdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bml0ZGV0LnRlbmFudGlkPSRzY29wZS50ZW5hbnRpZDtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5TWFuYWdlclNydi5jaGVja291dCh1bml0ZGV0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSc8cD5UZW5hbnQgQ2hlY2tlZCBPdXQgPC9wPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSc8cD5FcnJvciBDaGVja2luZy1PdXQgVGhlIENsaWVudCAoa2luZGx5IEluZm9ybSB0aGUgQWRtaW5pc3RyYXRvcikgPC9wPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfTsgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgIFxyXG5cclxuXHRcdH1dKTsiLCJcclxuXHJcbnByb3BlcnR5bWFuYWdlci5jb250cm9sbGVyKCdkYXNoYm9hcmRDdHJsJywgWyckc2NvcGUnLCduZ0RpYWxvZycsJyR3aW5kb3cnLCBmdW5jdGlvbigkc2NvcGUsbmdEaWFsb2csJHdpbmRvdyl7XHJcblxyXG5cclxuICAgIFxyXG5cdH1dKTtcclxuIiwicHJvcGVydHltYW5hZ2VyLmNvbnRyb2xsZXIoJ0VkaXRQcm9wZXJ0eUN0cmwnLCBbJyRzY29wZScsJ25nRGlhbG9nJywncHJvcGVydHlNYW5hZ2VyU3J2JywnJGxvY2F0aW9uJywnJHJvdXRlJywgZnVuY3Rpb24oJHNjb3BlLG5nRGlhbG9nLHByb3BlcnR5TWFuYWdlclNydiwkbG9jYXRpb24sJHJvdXRlKXtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5wcm9wZXJ0eT1hbmd1bGFyLmZyb21Kc29uKGF0b2IoJHJvdXRlLmN1cnJlbnQucGFyYW1zLnByb3BlcnR5KSk7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUudXBkYXRlPWZ1bmN0aW9uKHByb3Ape1xyXG5cclxuICAgICAgICAgICAgXHRwcm9wZXJ0eU1hbmFnZXJTcnYudXBkYXRlUHJvcGVydHkocHJvcClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdCAgICAgICAgICAgICAgIHZhciB0ZW1wID0nPHA+UHJvcGVydHkgU3VjY2Vzc2Z1bGx5IFVwZGF0ZWQgPC9wPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wLFxyXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcclxuXHRcdFx0XHQgICAgICAgICAgICB9KVxyXG5cdFx0XHRcdCAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRcdFx0XHQgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSc8cD5FcnJvciBVcGRhdGluZyBQcm9wZXJ0eSAoa2luZGx5IEluZm9ybSB0aGUgQWRtaW5pc3RyYXRvcikgPC9wPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wLFxyXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbD1mdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgXHQkbG9jYXRpb24ucGF0aCgnL3Byb3BlcnRpZXMnKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgXHJcblx0fV0pOyIsIlxyXG5wcm9wZXJ0eW1hbmFnZXIuY29udHJvbGxlcignTWFpbkN0cmwnLCBbJyRzY29wZScsJ25nRGlhbG9nJywnJHdpbmRvdycsIGZ1bmN0aW9uKCRzY29wZSxuZ0RpYWxvZywkd2luZG93KXtcclxuXHJcblxyXG5cdCAkc2NvcGUucm9sZT0kd2luZG93LnNlc3Npb25TdG9yYWdlLnJvbGU7XHJcblx0ICRzY29wZS51c2VyPSR3aW5kb3cuc2Vzc2lvblN0b3JhZ2UubmFtZXM7XHJcblxyXG5cclxuXHJcbiAgICBcclxuXHR9XSk7XHJcbiIsIlxyXG5wcm9wZXJ0eW1hbmFnZXIuY29udHJvbGxlcignUHJvcGVydHlDdHJsJywgWyckc2NvcGUnLCduZ0RpYWxvZycsJ3Byb3BlcnR5TWFuYWdlclNydicsJyRsb2NhdGlvbicsIGZ1bmN0aW9uKCRzY29wZSxuZ0RpYWxvZyxwcm9wZXJ0eU1hbmFnZXJTcnYsJGxvY2F0aW9uKXtcclxuXHJcbiAgXHJcblxyXG4gICAgICAgICAgcHJvcGVydHlNYW5hZ2VyU3J2LmdldE15UHJvcGVydGllcygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHQgICAgICAgICAgICAgICAkc2NvcGUucHJvcGVydGllcz1kYXRhLnByb3BlcnRpZXM7XHJcblx0XHRcdFx0ICAgICAgICAgICAgICAgY29uc29sZS5sb2coKTtcclxuXHRcdFx0XHQgICAgICAgICAgICB9KVxyXG5cdFx0XHRcdCAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRcdFx0XHQgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSc8cD5FcnJvciBMaXN0aW5nIFlvdXIgUHJvcGVydGllcyAoa2luZGx5IEluZm9ybSB0aGUgQWRtaW5pc3RyYXRvcikgPC9wPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wLFxyXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcclxuXHRcdFx0XHQgICB9KTsgICBcclxuICAgICAgICAgICAkc2NvcGUuZWRpdHByb3BlcnR5PWZ1bmN0aW9uKHByb3BlcnR5KXtcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgdmFyIGRldD1idG9hKGFuZ3VsYXIudG9Kc29uKHByb3BlcnR5KSk7XHJcblxyXG4gICAgICAgICBcdCAgICAkbG9jYXRpb24ucGF0aCgnL2VkaXQtcHJvcGVydHkvJytkZXQpO1xyXG4gICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgJHNjb3BlLnZpZXdQcm9wZXJ0eT1mdW5jdGlvbihwcm9wZXJ0eSl7XHJcbiAgICAgICAgIFx0ICAkc2NvcGUudmlld3Byb3BlcnR5PXByb3BlcnR5O1xyXG4gICAgICAgICAgICAgICAgIG5nRGlhbG9nLm9wZW5Db25maXJtKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJ1ZpZXdwcm9wZXJ0eS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICduZ2RpYWxvZy10aGVtZS1kZWZhdWx0JyxcclxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlXHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICRzY29wZS5hZGRQcm9wZXJ0eT1mdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgbmdEaWFsb2cub3BlbkNvbmZpcm0oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnQWRkcHJvcGVydHkuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbmdkaWFsb2ctdGhlbWUtZGVmYXVsdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGU6ICRzY29wZVxyXG4gICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb3A9dmFsdWU7XHJcbiAgICAgICAgICAgICAgICBcdHByb3BlcnR5TWFuYWdlclNydi5hZGRQcm9wZXJ0eSgkc2NvcGUucHJvcCkgXHJcbiAgICAgICAgICAgICAgICBcdCAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIFx0ICBcdCAgICAgICRzY29wZS5wcm9wZXJ0aWVzLnB1c2goJHNjb3BlLnByb3ApO1xyXG5cdFx0XHRcdCAgICAgICAgICAgICAgICB2YXIgdGVtcCA9JzxwPlByb3BlcnR5ICBTdWNjZXNzZnVsbHkgQ3JlYXRlZCA8L3A+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZ0RpYWxvZy5vcGVuKHtcclxuXHRcdCAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXAsXHJcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IFxyXG5cdFx0XHRcdCAgICAgICAgICAgICAgICBcclxuXHRcdFx0XHQgICAgICAgICAgICB9KVxyXG5cdFx0XHRcdCAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRcdFx0XHQgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSc8cD5FcnJvciBDcmVhdGluZyBQcm9wZXJ0eSAoa2luZGx5IEluZm9ybSB0aGUgQWRtaW5pc3RyYXRvcikgPC9wPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wLFxyXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcclxuXHRcdFx0XHQgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICBcdFxyXG4gICAgICAgICAgICAgICAgXHRcdCAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAkc2NvcGUuc2F2ZXByb3BlcnR5ID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cclxuICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgIFxyXG5cdH1dKTtcclxuIiwiXHJcblxyXG5wcm9wZXJ0eW1hbmFnZXIuY29udHJvbGxlcignc2V0dGluZ3NDdHJsJywgWyckc2NvcGUnLCduZ0RpYWxvZycsJ3Byb3BlcnR5TWFuYWdlclNydicsJyRsb2NhdGlvbicsJyRyb3V0ZScsIGZ1bmN0aW9uKCRzY29wZSxuZ0RpYWxvZyxwcm9wZXJ0eU1hbmFnZXJTcnYsJGxvY2F0aW9uLCRyb3V0ZSl7XHJcblxyXG5cclxuXHR9XSk7IiwiXHJcbnByb3BlcnR5bWFuYWdlci5jb250cm9sbGVyKCdzaW5nbGV0cnhuQ3RybCcsIFsnJHNjb3BlJywnbmdEaWFsb2cnLCckd2luZG93JywncHJvcGVydHlNYW5hZ2VyU3J2JywnJHRpbWVvdXQnLCBmdW5jdGlvbigkc2NvcGUsbmdEaWFsb2csJHdpbmRvdyxwcm9wZXJ0eU1hbmFnZXJTcnYsJHRpbWVvdXQpe1xyXG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0eU1hbmFnZXJTcnYudGVuYW50TGlzdCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50ZW5hbnRzPWRhdGEudGVuYW50cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgXHJcbiAgICAgICAgICAgICAgJHNjb3BlLm5hbWU9XCJcIjtcclxuICAgICAgICAgICAgICAkc2NvcGUub25JdGVtU2VsZWN0ZWQ9ZnVuY3Rpb24oKXtcclxuXHRcdCAgICAgICAgICBjb25zb2xlLmxvZygnc2VsZWN0ZWQ9Jyskc2NvcGUubmFtZSk7XHJcblx0ICAgICAgICAgICAgfSAgXHJcblxyXG5cclxuXHQgICAgICAgJHNjb3BlLmhhbmRsZVNlbGVjdGlvbj1mdW5jdGlvbihzZWxlY3RlZEl0ZW0pe1xyXG5cdFx0XHRcdCAkc2NvcGUubW9kZWw9c2VsZWN0ZWRJdGVtO1xyXG5cdFx0XHRcdCAkc2NvcGUuY3VycmVudD0wO1xyXG5cdFx0XHRcdCAkc2NvcGUuc2VsZWN0ZWQ9dHJ1ZTsgICAgICAgIFxyXG5cdFx0XHRcdFxyXG5cdCAgICAgICB9O1xyXG5cdFx0XHQgICRzY29wZS5jdXJyZW50PTA7XHJcblx0XHRcdCAgJHNjb3BlLnNlbGVjdGVkPXRydWU7XHJcblx0XHRcdCAgJHNjb3BlLmlzQ3VycmVudD1mdW5jdGlvbihpbmRleCl7XHJcblx0XHRcdFx0IHJldHVybiAkc2NvcGUuY3VycmVudD09aW5kZXg7XHJcblx0XHRcdCAgfTtcclxuXHRcdFx0ICAkc2NvcGUuc2V0Q3VycmVudD1mdW5jdGlvbihpbmRleCl7XHJcblx0XHRcdFx0ICRzY29wZS5jdXJyZW50PWluZGV4O1xyXG5cdFx0XHQgIH07ICAgICAgICAgICAgXHJcbiAgICBcclxuXHR9XSk7XHJcbiIsInByb3BlcnR5bWFuYWdlci5jb250cm9sbGVyKCd0ZW5hbnRzQ3RybCcsIFsnJHNjb3BlJywnbmdEaWFsb2cnLCckd2luZG93JywncHJvcGVydHlNYW5hZ2VyU3J2JywgZnVuY3Rpb24oJHNjb3BlLG5nRGlhbG9nLCR3aW5kb3cscHJvcGVydHlNYW5hZ2VyU3J2KXtcclxuICAgJHNjb3BlLnRlbmFudHM9W107XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgIHByb3BlcnR5TWFuYWdlclNydi50ZW5hbnRMaXN0KClcclxuICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRlbmFudHM9ZGF0YS50ZW5hbnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSc8cD5FcnJvciBMaXN0aW5nIFlvdXIgVW5pdHMgKGtpbmRseSBJbmZvcm0gdGhlIEFkbWluaXN0cmF0b3IpIDwvcD4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nRGlhbG9nLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcclxuICAgICAgICAgICAgICAgICAgIH0pOyBcclxuXHJcblxyXG4gICAgJHNjb3BlLmFkZFRlbmFudD1mdW5jdGlvbigpe1xyXG5cclxuICAgIFx0ICAgbmdEaWFsb2cub3BlbkNvbmZpcm0oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnQWRkVGVuYW50Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ25nZGlhbG9nLXRoZW1lLWRlZmF1bHQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlOiAkc2NvcGVcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRlbj12YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGVuLmFtb3VudGR1ZT0wO1xyXG4gICAgICAgICAgICAgICAgXHRwcm9wZXJ0eU1hbmFnZXJTcnYuY3JlYXRlVGVuYW50KCRzY29wZS50ZW4pIFxyXG4gICAgICAgICAgICAgICAgXHQgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBcdCAgXHQgICAgICAkc2NvcGUudGVuYW50cy5wdXNoKCRzY29wZS50ZW4pO1xyXG5cdFx0XHRcdCAgICAgICAgICAgICAgICB2YXIgdGVtcCA9JzxwPlRlbmFudCAgU3VjY2Vzc2Z1bGx5IENyZWF0ZWQgPC9wPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wLFxyXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcclxuXHRcdFx0XHQgICAgICAgICAgICAgICAgXHJcblx0XHRcdFx0ICAgICAgICAgICAgfSlcclxuXHRcdFx0XHQgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGVycm9yKSB7XHJcblx0XHRcdFx0ICAgICAgICAgICAgICAgIHZhciB0ZW1wID0nPHA+RXJyb3IgU2F2aW5nIFRlbmFudCAgRGV0YWlscyAoa2luZGx5IEluZm9ybSB0aGUgQWRtaW5pc3RyYXRvcikgPC9wPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcblx0XHQgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wLFxyXG5cdFx0ICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcclxuXHRcdFx0XHQgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICBcdFxyXG4gICAgICAgICAgICAgICAgXHRcdCAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgfTtcclxuICAgIFxyXG5cdH1dKTsiLCJwcm9wZXJ0eW1hbmFnZXIuY29udHJvbGxlcigndW5pdEN0cmwnLCBbJyRzY29wZScsJ25nRGlhbG9nJywncHJvcGVydHlNYW5hZ2VyU3J2JywnJGxvY2F0aW9uJywnJHJvdXRlJywgZnVuY3Rpb24oJHNjb3BlLG5nRGlhbG9nLHByb3BlcnR5TWFuYWdlclNydiwkbG9jYXRpb24sJHJvdXRlKXtcclxuXHJcbiAgICAgICAgICAgJHNjb3BlLnByb3BlcnR5aWQ9JHJvdXRlLmN1cnJlbnQucGFyYW1zLnByb3BlcnR5aWQ7XHJcbiAgICAgICAgICAgJHNjb3BlLnByb3BlcnR5PSRyb3V0ZS5jdXJyZW50LnBhcmFtcy5wcm9wZXJ0eW5hbWU7XHJcbiAgICAgICAgICAgICRzY29wZS51bml0cz1bXTtcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5TWFuYWdlclNydi5MaXN0UHJvcGVydHlVbml0cygkc2NvcGUucHJvcGVydHlpZClcclxuICAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVuaXRzPWRhdGEudW5pdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEudW5pdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9JzxwPkVycm9yIExpc3RpbmcgWW91ciBVbml0cyAoa2luZGx5IEluZm9ybSB0aGUgQWRtaW5pc3RyYXRvcikgPC9wPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgICAgICAgICAgICAgfSk7IFxyXG5cclxuICAgICAgICAgICAgICAkc2NvcGUuYWRkVW5pdD1mdW5jdGlvbigpe1xyXG5cclxuICAgICAgICAgICAgICAgbmdEaWFsb2cub3BlbkNvbmZpcm0oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnQWRkVW5pdC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICduZ2RpYWxvZy10aGVtZS1kZWZhdWx0JyxcclxuICAgICAgICAgICAgICAgICAgICBzY29wZTogJHNjb3BlXHJcbiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudW50PXZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS51bnQucHJvcGVydHlpZD0kc2NvcGUucHJvcGVydHlpZDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudW50LnByb3BlcnR5bmFtZT0kc2NvcGUucHJvcGVydHk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVudC5vY2N1cGF0aW9uU3RhdHVzPVwidmFjYW50XCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5TWFuYWdlclNydi5hZGRVbml0KCRzY29wZS51bnQpIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVuaXRzLnB1c2goJHNjb3BlLnVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSc8cD5Vbml0ICBTdWNjZXNzZnVsbHkgQ3JlYXRlZCA8L3A+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZ0RpYWxvZy5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhaW46IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0nPHA+RXJyb3IgQ3JlYXRpbmcgVW5pdCAoa2luZGx5IEluZm9ybSB0aGUgQWRtaW5pc3RyYXRvcikgPC9wPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgIFxyXG4gICAgICAgICAgICAgICBcclxuXHR9XSk7IiwicHJvcGVydHltYW5hZ2VyLmNvbnRyb2xsZXIoJ3VuaXRTZXR0aW5nc0N0cmwnLCBbJyRzY29wZScsJ25nRGlhbG9nJywncHJvcGVydHlNYW5hZ2VyU3J2JywnJGxvY2F0aW9uJywnJHJvdXRlJywgZnVuY3Rpb24oJHNjb3BlLG5nRGlhbG9nLHByb3BlcnR5TWFuYWdlclNydiwkbG9jYXRpb24sJHJvdXRlKXtcclxuXHJcbiAgJHNjb3BlLmRlcG9zaXQ9e307XHJcbiAgJHNjb3BlLnNldHRpbmdzPXt9O1xyXG5cclxuICAgICAgICAgICAkc2NvcGUudW5pdGlkPSRyb3V0ZS5jdXJyZW50LnBhcmFtcy51bml0aWQ7XHJcbiAgICAgICAgICAgJHNjb3BlLnVuaXRuYW1lPSRyb3V0ZS5jdXJyZW50LnBhcmFtcy51bml0bmFtZTtcclxuICAgICAgICAgICAkc2NvcGUucmVudGFtb3VudD1OdW1iZXIoJHJvdXRlLmN1cnJlbnQucGFyYW1zLmFtb3VudCk7XHJcbiBcclxuICAgICRzY29wZS5jYWxjUmVudERlcG9zaXQ9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBcdGlmICh2YWx1ZT09PSdkZXBvc2l0YW1vdW50Jyl7JHNjb3BlLmRlcG9zaXQuYW1vdW50PSRzY29wZS5yZW50YW1vdW50O31cclxuICAgIFx0ZWxzZSBpZiAodmFsdWU9PT0nZGVwb3NpdHJlbnRwZXJjZW50YWdlJyl7XHJcbiAgICAgICAgXHRcdCRzY29wZS5kZXBvc2l0LmFtb3VudD0oJHNjb3BlLnBlcmNlbnRhZ2UgKiAkc2NvcGUucmVudGFtb3VudCkvMTAwO1xyXG4gICAgXHR9XHJcbiAgICBcdGVsc2UgaWYodmFsdWU9PT0nZGVwb3NpdGZpeGVkYW1vdW50Jyl7JHNjb3BlLmRlcG9zaXQuYW1vdW50PSRzY29wZS5maXhlZGFtb3VudDt9XHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS5jYWxjQ2hlY2tpbkFtb3VudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcblx0XHRcdCAgICAgaWYgKHZhbHVlPT09J3JlbnRvbmx5Jyl7JHNjb3BlLnNldHRpbmdzLmNoZWNraW5hbW91bnQ9JHNjb3BlLnJlbnRhbW91bnQ7fVxyXG5cdFx0XHQgICAgIGVsc2UgaWYgKHZhbHVlPT09J3JlbnRhbmRkZXBvc2l0Jyl7JHNjb3BlLnNldHRpbmdzLmNoZWNraW5hbW91bnQ9JHNjb3BlLmRlcG9zaXQuYW1vdW50ICsgJHNjb3BlLnJlbnRhbW91bnQ7fVxyXG5cdFx0XHQgICAgIGVsc2UgaWYgKHZhbHVlPT09J2NoZWNraW5maXhlZGFtb3VudCcpeyRzY29wZS5zZXR0aW5ncy5jaGVja2luYW1vdW50PSRzY29wZS50ZW5hbnRjaGVja2luZml4ZWRhbW91bnQgO31cclxuXHRcdFx0ICAgfTtcclxuXHJcbiAgICAgICRzY29wZS51cGRhdGU9ZnVuY3Rpb24oKXtcclxuICAgICAgXHQkc2NvcGUudXBkYXRlPXt9O1xyXG4gICAgICBcdCRzY29wZS51cGRhdGUuc2V0dGluZ3M9JHNjb3BlLnNldHRpbmdzO1xyXG4gICAgICAgICRzY29wZS51cGRhdGUuX2lkPSRzY29wZS51bml0aWQ7XHJcbiAgICAgICAgcHJvcGVydHlNYW5hZ2VyU3J2LlVwZGF0ZVVuaXRTZXR0aW5ncygkc2NvcGUudXBkYXRlKSBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSc8cD5Vbml0ICBTZXR0aW5ncyBTdWNjZXNzZnVsbHkgQ3JlYXRlZCA8L3A+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZ0RpYWxvZy5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhaW46IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0nPHA+RXJyb3IgQ3JlYXRpbmcgVW5pdCAgU2V0dGluZ3MgKGtpbmRseSBJbmZvcm0gdGhlIEFkbWluaXN0cmF0b3IpIDwvcD4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nRGlhbG9nLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRlbXAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFpbjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICBcclxuICAgICAgfTtcclxuICAgIFxyXG5cclxuXHRcdH1dKTsiLCJwcm9wZXJ0eW1hbmFnZXIuZGlyZWN0aXZlKCdlcnJTcmMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgIGVsZW1lbnQuYmluZCgnZXJyb3InLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKGF0dHJzLnNyYyAhPSBhdHRycy5lcnJTcmMpIHtcclxuICAgICAgICAgICAgICBhdHRycy4kc2V0KCdzcmMnLCBhdHRycy5lcnJTcmMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgYXR0cnMuJG9ic2VydmUoJ25nU3JjJywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKCF2YWx1ZSAmJiBhdHRycy5lcnJTcmMpIHtcclxuICAgICAgICAgICAgICBhdHRycy4kc2V0KCdzcmMnLCBhdHRycy5lcnJTcmMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pOyIsIiAgICBwcm9wZXJ0eW1hbmFnZXIuZGlyZWN0aXZlKFwibmdGaWxlTW9kZWxcIiwgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgbmdGaWxlTW9kZWw6IFwiPVwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKFwiY2hhbmdlXCIsIGZ1bmN0aW9uIChjaGFuZ2VFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAobG9hZEV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZS5uZ0ZpbGVNb2RlbCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWQ6IGNoYW5nZUV2ZW50LnRhcmdldC5maWxlc1swXS5sYXN0TW9kaWZpZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkRGF0ZTogY2hhbmdlRXZlbnQudGFyZ2V0LmZpbGVzWzBdLmxhc3RNb2RpZmllZERhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY2hhbmdlRXZlbnQudGFyZ2V0LmZpbGVzWzBdLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogY2hhbmdlRXZlbnQudGFyZ2V0LmZpbGVzWzBdLnNpemUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogY2hhbmdlRXZlbnQudGFyZ2V0LmZpbGVzWzBdLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogbG9hZEV2ZW50LnRhcmdldC5yZXN1bHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChjaGFuZ2VFdmVudC50YXJnZXQuZmlsZXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
